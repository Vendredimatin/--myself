# 计算机网络

## 1.1 

1. 从不同角度，可以将计算机网络的组成分为如下几类
   1. 从组成部分上看，一个完整的计算机网络主要由硬件、软件、协议三大部分组成。协议是计算机网络的核心
   2. 从工作方式上看，计算机网络可以分为边缘部分和核心部分。边缘部分由所有连接到因特网上、供用户直接使用的主机组成，用来通信和资源共享。核心部分由大量的网络和连接这些网络的路由器组成，它为边缘部分提供连通性和交换服务
   3. 从功能组成上看，计算机网络由通信子网和资源子网组成
      1. 通信子网由各种传输介质、通信设备和相应的网络协议组成
         1. 网桥、交换机和路由器、集线器。集线器工作在物理层，交换机工作在数据链路层，路由器工作在网络成
         2. 计算机网络的拓扑结构主要取决于它的通信子网
         3. 通信子网由通信控制处理机、通信线路和其他通信设备组成
         4. 通信子网对应于OSI参考模型的下三层，包括物理层、数据链路层和网络层。
      2. 资源子网是实现资源共享功能的设备及其软件的集合。提供硬件资源、软件资源和数据资源的服务
         1. 计算机软件
         2. 计算机网络的资源主要是指计算机硬件、软件与数据
         3. 资源子网主要由计算机系统、终端、联网外部设备、各种软件资源和信息资源组成
2. 计算机网络的功能
   1. 数据通信。最基本和最重要的功能
   2. 资源共享
   3. 分布式处理
   4. 提高可靠性
   5. 负载均衡
3. 计算机网络的分类
   1. 按分布范围
      1. 广域网 WAN。
         1. 广域网的任务是提供长距离通信，运送主机所发送的数据
         2. 广域网是因特网的核心部分。
         3. 广域网基本都属于点对点网络
      2. 城域网
      3. 局域网 LAN
         1. 局域网基本都采用广播式通信技术
         2. 局域网和广域网的差异不仅在所覆盖的范围，还在于他们所使用的协议不同
         3. 局域网和广域网的互连是通过路由器实现的
         4. 中继器和桥接器通常是指用于局域网的物理层和链路层的联网设备
      4. 个人区域网 PAN
   2. 按传输技术分类
      1. 广播式网络。所有联网计算机都共享一个公共通信信道
         1. 局域网基本都采用广播式通信技术
         2. 广域网中的无线、卫星通信网络也采用广播式通信技术
         3. 不需要网络层，因而也不存在路由选择的问题。
         4. 数据链路层使用的物理层服务必须通过服务访问点实现
      2. 点对点网络。
         1. 每条物理线路连接一对计算机
      3. 是否采用分组存储与路由选择机制是点对点与广播式网络的重要区别，点对点采用分组存储和路由选择
   3. 按拓扑结构分类
      1. 网络拓扑结构是指由网中节点9路由器、主机0与通信线路之间的几何关系，主要指通信子网的拓扑结构
      2. 星形，多用于局域网
      3. 总线型，多用于局域网
      4. 环形，多用于局域网
      5. 网状型，多用于广域网
   4. 按使用者分类
      1. 公用网
      2. 专用网
   5. 按交换技术分类
      1. 电路交换网络。在源节点和目的节点之间建立一条专用的通路用于传送数据，包括建立连接、传输数据和断开连接三个阶段
      2. 报文交换网络。用户数据加上源地址、目的地址、校验码等辅助信息，然后封装成报文，整个报文传送到相邻结点，全部存储后，再转发给下一个节点，直到到达目的结点
         1. 报文交换网络也称存储-转发网络
      3. 分组交换网络。将数据分成较短的固定长度的数据块，在每个数据块中加上目的地址、源地址等辅助信息组成分组，包，以存储转发方式传输
4. 计算机网络的性能指标
5. 世界上出现最早的计算机网络是ARPAnet

## 1.2 计算机网络体系结构与参考模型

### 1.2.1 计算机网络分层模型

1. 在计算机网络体系结构的各个层次中，每个报文都分为两部分：一是数据部分，即SDU, 而是控制信息部分，即PCI，它们共同组成PDU
   1. 服务数据单元（SDU）：为完成用户所要求的功能而应传送的数据
   2. 协议控制信息（PCI）：控制协议操作的信息
   3. 协议数据单元（PDU）：对等层次之间传送的数据单位称为该层的PDU。 物理层的PDU称为比特，链路层的PDU称为帧，网络层的PDU称为分组，传输层的PDU称为报文。
   4. 在各层间传输数据时，把从第n+1层收到的PDU作为第n层的SDU，加上第n层的PCI，就变成了第n层的PDU
2. 第n层提供的服务是第n层及其下面各层提供的服务总和
3. 上一层只能通过相邻层间的接口使用下一层的服务，而不能调用其他层的服务；下一层所提供的服务的实现细节对上一层透明

#### 1.2.2 计算机网络协议、接口、服务的概念

1. 协议
   1. 协议，就是规则的集合。他是控制两个（或多个）对等实体进行通信的规则的集合，是水平的
   2. 协议由语法、语义和同步三部分组成
      1. 语法规定了传输数据的格式
      2. 语义规定了所要完成的功能
      3. 同步规定了执行各种操作的条件、时序关系
2. 接口
   1. 接口是同一结点内相邻两层间交换信息的连接点，是一个系统内部的规定
   2. 同一结点相邻两层的实体通过服务访问点（SAP）进行交互。服务是通过SAP提供给上层使用的
3. 服务
   1. 服务是指下层为紧邻的上层提供的功能调用，它是垂直的。
   2. 并非在一层内完成的全部功能称为服务，只有那些能够被高一层实体“看得见”的功能才称为服务
4. 计算机网络提供的服务可按以下三种方式分类

   1. 面向连接服务与无连接服务

      1. 面向连接，通信前双方必须先建立连接，分配相应资源，传输结束后释放连接和所占用的资源。因此可以分为连接建立、数据传输和连接释放三个阶段
      2. 无连接，需要发送数据时可直接发送，把每个带有目的地址的包传送到线路上，由系统选定路线进行传输，如IP, UDP
   2. 可靠服务和不可靠服务

      1. 可靠服务指网络具有纠错、检错、应答机制，能保证数据正确、可靠地传送到目的地
      2. 不可靠服务指网络只是尽量正确、可靠地传送
   3. 有应答和无应答服务

### 1.2.3 ISO/OSI参考模型和TCP/IP模型

##### OSI

1. OSI参考模型，又称开放系统互连参考模型
2. OSI有七层，物理层、数据链路层、网络层、传输层、会话层、表示层、应用层
   1. 低三层统称为通信子网
   2. 高三层统称为资源子网
   3. 传输层承上启下
3. 各层功能
   1. 物理层
      1. 传输单位是比特
      2. 功能：在物理媒体上为数据端设备透明地传输原始比特流
      3. 物理层协议
      4. 传输信息所利用的一些物理媒体，如双绞线、光缆等，并不在物理层协议之内而在物理层协议下面
   2. 数据链路层
      1. 传输单位是帧。
      2. 任务是把网络层传来的IP数据报组装成帧
      3. 功能：物理寻址、成帧、差错控制、流量控制和传输管理
      4. 广播式网络在数据链路层还要处理新的问题，即如何控制对共享信道的访问，是由其特殊的子层——介质访问层，处理的
      5. 数据链路层协议：SDLC, HDLC, PPP, STP和帧中继
   3. 网络层
      1. 传输单位是数据报
      2. 功能：把网络层的协议数据单元（分组）从源端传送到目的端。对分组进行路由选择，并实现流量控制、拥塞控制、差错控制和网际互联等功能
         1. 差错控制是通信两结点之间约定的特定检错规则，如奇偶校验码
      3. 网络层协议主要是无连接的网际协议IP和许多路由选择协议
      4. 网络层协议：IP, IPX, ICMP, IGMP, ARP, RARP和OSPF
   4. 传输层
      1. 传输单位是报文段（TCP）和用户数据报（UDP)
      2. 负责两个进程之间的通信
      3. 功能是为端到端来连接提供可靠的传输服务，为端到端连接提供流量控制、差错控制、服务质量、数据传输管理等服务
      4. 数据链路层提供的是点到点的通信，传输层提供的是端到端的通信
         1. 一个点是指一个硬件地址或IP地址，网络中参与通信的主机是通过硬件地址或IP地址标识的
         2. 端到端的通信是指运行在不同主机内的两个进程之间的通信，一个进程由一个端口来表示
      5. 传输层协议有TCP, UDP
   5. 会话层
      1. 会话层允许不同主机上的各个进程之间进行会话
      2. 主要为表示层实体或用户进程建立连接并在连接上有序传输数据，这就是会话，也称建立同步
      3. 会话层可以使用校验点使通信会话在通信失效时从检验点继续恢复通信，实现数据同步
   6. 表示层
      1. 处理两个通信系统中数据交换信息的表示方式
      2. 数据压缩、加密和揭秘也是表示层可提供的数据表示变换功能
   7. 应用层
      1. 用户与网络的界面。
      2. 为特定类型的网络应用提供访问OSI环境的手段
      3. 是最复杂的一层
      4. 应用层协议，HTTP, SMTP, FTP

##### TCP/IP

1. 模型层低到高以此为网络接口层、网际层、传输层和应用层
   1. 网络接口层对应数据链路层和物理层
   2. 应用层对应会话层、表示层和应用层
2. 网络接口层
   1. 从主机或结点接收IP分组，并把它们发送到制定的物理网络上
3. 网际层
   1. TCP/IP体系结构的关键部分
   2. 网际层将分组发往任何网络，并为之独立地选择合适的路由，但不保证各个分组有序地到达。各个组的有序交付由高层负责
4. 传输层
   1. 功能和OSI的传输层类似
      1. 传输控制协议TCP，他是面向连接的，数据传输的单位是报文段，能够提供可靠的交付
      2. 用户数据报协议UDP，它是面向无连接的，数据传输的单位是用户数据报，不保证提供可靠的交付，只能提供“尽最大努力较复”
5. 应用层

##### TCP/IP模型与OSI参考模型的比较

1. 差别
   1. OSI参考模型在网络层支持无连接和面向连接的通信，但在传输层仅有面向连接的通信。而TCP/IP模型认为可靠性是端到端的问题，因此它在网际层仅有一种无连接的通信模式（IP），但是传输层支持无连接和面向连接两种模式(TCP/UDP)

### 错题点

1. 定义功能执行的方法，并不是对网络模型进行分层的目标，因为体系结构是抽象的
2. 服务、接口、协议是OSI参考模型的3个主要概念
3. 不参与数据封装工作的是物理层
4. 提供流量控制的是数据链路层、网络层和传输层；网络层和传输层具有拥塞控制的功能
5. 路由器在网络层，交换机在数据链路层，集线器在物理层
6. 在TCP/IP模型中，传输层处理可靠性、流量控制和错误校正等问题
7. TCP/IP 的网络层提供的是无连接不可靠的数据报服务（IP）
8. 应用层的服务访问点称用户界面；物理层的服务访问点称为网卡接口；网络层的服务访问点称为IP地址；传输层的服务访问点称为MAC地址
9. 综合应用题的2(4)(5)